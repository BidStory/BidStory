<input type="text" id="baseCurrency" placeholder="العملة الأساسية (مثلاً: USD)" value="USD"><br>
<input type="text" id="targetCurrency" placeholder="العملة المستهدفة (مثلاً: EGP)" value="EGP"><br>
<button onclick="getExchangeRate(
    document.getElementById('baseCurrency').value, 
    document.getElementById('targetCurrency').value)">✅ تحويل</button><br><br>

<p id="rateResult">—</p>

<script>
    async function getExchangeRate(baseCurrency, targetCurrency)
    {
        baseCurrency = baseCurrency.trim().toUpperCase();
        targetCurrency = targetCurrency.trim().toUpperCase();

        try
        {
            const url = `https://api.frankfurter.app/latest?from=${baseCurrency}&to=${targetCurrency}`;
            const response = await fetch(url);

            if (!response.ok)
            {
                throw new Error(`⚠️ فشل الاتصال: ${response.status}`);
            }

            const data = await response.json();
            console.log("📦 البيانات الكاملة:", data);

            if (!data.rates || !data.rates[targetCurrency])
            {
                throw new Error(`❌ لم يتم العثور على العملة: ${targetCurrency}`);
            }

            const rate = data.rates[targetCurrency];
            document.getElementById("rateResult").textContent = `💱 1 ${baseCurrency} = ${rate} ${targetCurrency}`;
        }
        catch (error)
        {
            document.getElementById("rateResult").textContent = error.message;
            console.error("❌ خطأ أثناء جلب سعر الصرف:", error.message);
        }
    }
</script>
