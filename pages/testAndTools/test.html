<script>

function calculateSuppliesPercentprice(values, percents, prices) {
    if (values.length !== percents.length || values.length !== prices.length) {
        throw new Error("âŒ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµÙÙˆÙØ§Øª ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¨Ø·ÙˆÙ„ Ù…ØªØ³Ø§ÙˆÙ.");
    }

    let totalSum = 0;
    let approvedValueSum = 0;
    let weightedPriceSum = 0;
    let approvedWeights = 0;

    for (let i = 0; i < values.length; i++) {
        const value = values[i];
        const percent = percents[i];
        const price = prices[i];

        const approvedValue = value * (percent / 100);
        totalSum += approvedValue * price;
        approvedValueSum += approvedValue;

        // Ù†Ø³ØªØ®Ø¯Ù… approvedValue Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† value Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø±Ø¬Ø­
        weightedPriceSum += price * approvedValue;
        approvedWeights += approvedValue;
    }

    if (approvedValueSum === 0) {
        throw new Error("âš ï¸ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© (Ø¨Ø¹Ø¯ Ø¶Ø±Ø¨Ù‡Ø§ Ø¨Ø§Ù„Ù†Ø³Ø¨) ÙŠØ³Ø§ÙˆÙŠ ØµÙØ±ØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª.");
    }

    const foundPrice = weightedPriceSum / approvedWeights;
    const foundPercent = 100; // Ù„Ø£Ù†Ù†Ø§ Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø±Ø¬Ø­ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© Ù…Ø¨Ø§Ø´Ø±Ø©
    const checkTotal = foundPrice * approvedValueSum;

    return {
        totalSum: totalSum.toFixed(2),
        valueSum: approvedValueSum.toFixed(2),
        foundPercent: foundPercent.toFixed(2),
        foundPrice: foundPrice.toFixed(3),
        checkTotal: checkTotal.toFixed(2)
    };
}

// ğŸ§ª Ø§Ù„ØªØ¬Ø±Ø¨Ø©
const result = calculateSuppliesPercentprice(
  [2, ''],    // Ø§Ù„ÙƒÙ…ÙŠØ§Øª
  [100, null],    // Ø§Ù„Ù†Ø³Ø¨
  [37, null]      // Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
);

// âœ… Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
console.log("ğŸ“¦ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©:", result.totalSum);
console.log("ğŸ§® Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©:", result.valueSum);
console.log("ğŸ“ˆ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø©:", result.foundPercent + "%");
console.log("ğŸ’° Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…ÙˆØ­Ø¯:", result.foundPrice);
console.log("ğŸ” ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:", result.checkTotal);
</script>
