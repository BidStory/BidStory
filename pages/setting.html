<script>

watchAndSaveInputs2Local("settingPage");
</script>
<div id="settingPage">
<!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºÙ‡ -->
<h2  id="t_266"></h2>
<select id="languageSelect">
  <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
  <option value="en">English</option>
</select>
<br><br>
<!-- Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ø¹Ø´Ø±ÙŠØ© -->
<h3 id="t_174"></h3>
<label id="t_602"></label>
<br><br>
<input type="number" id="DecimalPoint" min="0" max="5">

</div>
<br><br>

<button onclick="clearEverything()" style="padding: 10px 20px; font-size: 16px; background-color: crimson; color: white; border: none; border-radius: 5px; cursor: pointer;">
  ğŸ§¹ Ù…Ø³Ø­ ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹
</button>

<script>
    document.getElementById("languageSelect").addEventListener("change",async function () {
        location.reload(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
    });
  
   const decimalInput = document.getElementById('DecimalPoint');
  decimalInput.addEventListener('input',async () => {
    const value = parseFloat(decimalInput.value);
    if (value < 0) decimalInput.value = 0;
    if (value > 5) decimalInput.value = 5;
    await getSetting();
  });

 async function clearEverything() {
    // ğŸ§¹ 1. Ø­Ø°Ù LocalStorage
    localStorage.clear();

    // ğŸ§¹ 2. Ø­Ø°Ù SessionStorage
    sessionStorage.clear();

    // ğŸ§¹ 3. Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ù‚ÙˆØ§Ø¹Ø¯ IndexedDB
    if (window.indexedDB && indexedDB.databases) {
      const databases = await indexedDB.databases();
      for (const db of databases) {
        if (db.name) {
          indexedDB.deleteDatabase(db.name);
        }
      }
    }

    // ğŸ§¹ 4. Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙˆÙƒÙŠØ² (Ù…Ù† Ù†ÙØ³ Ø§Ù„Ù†Ø·Ø§Ù‚)
    document.cookie.split(";").forEach(cookie => {
      const eqPos = cookie.indexOf("=");
      const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
      document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/";
    });

    // ğŸ§¹ 5. Ø­Ø°Ù Cache API
    if ('caches' in window) {
      const keys = await caches.keys();
      for (const key of keys) {
        await caches.delete(key);
      }
    }

    console.log("ğŸ§¼ ØªÙ… Ù…Ø³Ø­ ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­ ğŸ”¥");

    // ğŸ” Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø³Ø­
    location.reload();
  }

  </script>