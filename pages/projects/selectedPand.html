<script>
    let dataBaseId = null;
    let dbNoUpgrade = null;
    let dbUpgrade = null;
    let selectedPandId = null;
    async function initSelectedPandPage ()
    {

        dataBaseId = 'ite_' + localStorage.getItem( 'selectedProject' );
        dbNoUpgrade = await new noUpgrade( dataBaseId );
        dbUpgrade = await new upgrade( dataBaseId );
        selectedPandId = localStorage.getItem( 'selectedPand' );


        await restoreAllInputsFromIndexDB( "mainSelectedPandPage", dbNoUpgrade, selectedPandId );
        await watchingAllInputs2IndexDB( "mainSelectedPandPage", dbNoUpgrade, selectedPandId );



    }

</script>

<div id="mainSelectedPandPage">

    <textarea id="pandText"></textarea>
    <br>
    <input type="number" id="kmia">
     <br>
    <input type="number" id="sear">
     <br>
    <input type="number" id="tot">
</div>

<script>
   async function calTot() {
  const kmia_ = document.getElementById("kmia");
  const sear_ = document.getElementById("sear");
  const tot_ = document.getElementById("tot");

  let k = parseFloat(kmia_.value) || 0;
  let s = parseFloat(sear_.value) || 0;

  tot_.value = (k * s).toFixed(DecimalPoint); // التقريب لرقمين عشريين (اختياري)
  isTableWatcherEnabled=false;
                await dbNoUpgrade.keySet( selectedPandId, 'tot', tot_.value );
                  isTableWatcherEnabled=true;
}

</script>